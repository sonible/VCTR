<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VCTR: VCTR</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="sonible_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">VCTR
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">VCTR </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_Readme"></a> A powerful C++ 20 wrapper around your favorite standard library containers.</p>
<h1><a class="anchor" id="autotoc_md11"></a>
Getting started</h1>
<p>VCTR is a header-only library. The easiest way to use it is to add it as a git submodule to your project:</p>
<div class="fragment"><div class="line"># in project root</div>
<div class="line">git submodule add git@github.com:sonible/VCTR.git ext/vctr</div>
</div><!-- fragment --><p>After doing so, you can simply add it to your project using the <code>add_subdirectory</code> command and link against the <code>sonible::vctr</code> target:</p>
<div class="fragment"><div class="line"># CMakeLists.txt</div>
<div class="line"> </div>
<div class="line">cmake_minimum_required (VERSION 3.15)</div>
<div class="line">project (example 0.0.1)</div>
<div class="line"> </div>
<div class="line">add_subdirectory (ext/vctr)</div>
<div class="line"> </div>
<div class="line">add_executable (example main.cpp)</div>
<div class="line">target_link_libraries (example PRIVATE sonible::vctr)</div>
</div><!-- fragment --><p>To use it in your project, include the <code>vcrt/vctr.h</code> header:</p>
<div class="fragment"><div class="line"> {c++}</div>
<div class="line">// main.cpp</div>
<div class="line"> </div>
<div class="line">#include &lt;iostream&gt;</div>
<div class="line">#include &lt;vctr/vctr.h&gt;</div>
<div class="line"> </div>
<div class="line">int main()</div>
<div class="line">{</div>
<div class="line">  // vctr::Array is a compile-time static sized stack container based on std::array.</div>
<div class="line">  vctr::Array a { 1.0, 2.0, 3.0, 4.0 };</div>
<div class="line"> </div>
<div class="line">  // vctr::Vector is a dynamic sized heap container based on std::vector.</div>
<div class="line">  vctr::Vector b { 5.0, 6.0, 7.0, 8.0 };</div>
<div class="line">  </div>
<div class="line">  // vctr::Span is a view to vector data owned by other containers based on std::span</div>
<div class="line">  vctr::Span s = a;</div>
<div class="line"> </div>
<div class="line">  // Use overloaded &lt;&lt; operator to perform mathematical functions, general purpose math operators are also overloaded.</div>
<div class="line">  auto squaredSum = vctr::square &lt;&lt; (a + b);</div>
<div class="line"> </div>
<div class="line">  // We can pass it to an output stream</div>
<div class="line">  std::cout &lt;&lt; &quot;squaredSum = &quot; &lt;&lt; squaredSum &lt;&lt; std::endl; // [36, 64, 100, 144]</div>
<div class="line">}</div>
</div><!-- fragment --><p>Finally, export the CMake project and built it:</p>
<div class="fragment"><div class="line"># in project root</div>
<div class="line"> </div>
<div class="line"># export project</div>
<div class="line">cmake . -B build</div>
<div class="line"> </div>
<div class="line"># build executable</div>
<div class="line">cmake --build build/</div>
<div class="line"> </div>
<div class="line"># run executable</div>
<div class="line">build/example</div>
</div><!-- fragment --><p>In most cases you simply want to <code>#include &lt;<a class="el" href="vctr_8h_source.html">vctr/vctr.h</a>&gt;</code>. If you only want to access the forward declarations of the public types you can <code>#include &lt;<a class="el" href="vctr__forward__declarations_8h_source.html">vctr/vctr_forward_declarations.h</a>&gt;</code> as a lightweight alternative.</p>
<p>It is also possible to access a demo project that showcases some of VCTR's features. For doing so, export the project using the <code>-D VCTR_BUILD_DEMO=1</code> CMake option after cloning:</p>
<div class="fragment"><div class="line"># in VCTR project root</div>
<div class="line"> </div>
<div class="line"># enable exporting of demo project</div>
<div class="line">cmake . -B build -D VCTR_BUILD_DEMO=1</div>
<div class="line"> </div>
<div class="line"># build demo project</div>
<div class="line">cmake --build build/ --target vctr_demo</div>
<div class="line"> </div>
<div class="line"># run the demo project</div>
<div class="line">./build/demo/vctr_demo</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md12"></a>
Dependencies and Requirements</h2>
<p>VCTR is using cutting-edge C++ library features and needs a very recent compiler to work properly. It is currently tested with the following compilers:</p><ul>
<li>Clang 15+</li>
<li>GCC 12+ (Linux only)</li>
<li>Visual Studio 2022+</li>
<li>XCode 14+</li>
</ul>
<p>In order to achieve high performance, VCTR uses two platform specific vector operation libraries, these are:</p>
<h3><a class="anchor" id="autotoc_md13"></a>
Apple Accelerate</h3>
<p>On Apple systems the <a href="https://developer.apple.com/documentation/accelerate">Accelerate</a> framework is a required dependency. If you are using VCTR using CMake, the framework will be linked and used automatically; no configuration is necessary.</p>
<h3><a class="anchor" id="autotoc_md14"></a>
Intel IPP</h3>
<p><a href="https://www.intel.com/content/www/us/en/developer/tools/oneapi/ipp.html">Intel IPP</a> is an optional dependency that is available on Intel (x64) systems.</p>
<p>To install IPP, please follow the instructions on the website or install it using python: <code>pip3 install ipp-static</code>.</p>
<p>Next, use the <code>VCTR_USE_IPP=1</code> CMake option to instruct the project to link against IPP.</p>
<p>VCTR will look for the required headers and libraries in common locations. In case you use a non-standard location, you can pass its location using the <code>VCTR_IPP_ROOT</code> command line option when exporting the project:</p>
<div class="fragment"><div class="line"># in project root</div>
<div class="line">cmake . -B build -D VCTR_USE_IPP=1</div>
<div class="line"> </div>
<div class="line"># or in case of non-standard IPP install location</div>
<div class="line">cmake . -B build -D VCTR_USE_IPP=1 -D VCTR_IPP_ROOT=/path/to/ipp</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md15"></a>
Manual Setup</h2>
<p>The documentation up until this point assumes that VCTR is used in a CMake-based project. If you however use a different setup, you can follow the steps below to use this library:</p>
<ul>
<li>Add the top level <code>include</code> folder to your header search path.</li>
<li>(Apple only) Link against the <code>Accelerate</code> framework.</li>
</ul>
<p>In case you want to enable IPP support:</p>
<ul>
<li>Add the IPP include location to the header search path, such that <code>ipp.h</code> can be found.</li>
<li>Add the IPP library location to the library search path.</li>
<li>Link against the required libraries: <code>ippcore(mt)</code>, <code>ipps(mt)</code> and <code>ippvm(mt)</code>.</li>
</ul>
<p>Note that VCTR will try to use IPP as soon as it can resolve the <code>ipp.h</code> header. In case you want to disable IPP even if the headers are available, define the <code>VCTR_USE_IPP</code> preprocessor flag to <code>0</code>.</p>
<h3><a class="anchor" id="autotoc_md16"></a>
JUCE</h3>
<p>If you are using VCTR in the context of a <a href="https://github.com/juce-framework/JUCE">JUCE</a> project that does not yet use CMake, you can treat <code>include/vctr</code> as a JUCE module.</p>
<p>In Projucer, add this directory using the <code>+</code> button in the <code>Modules</code> tab and select <code>Add a module from a specific folder</code>. After doing so, you can use it as shown in the example at the beginning of this document.</p>
<h1><a class="anchor" id="autotoc_md17"></a>
Contributing</h1>
<p>The project is currently under development. Contributions to the project are highly appreciated, just have a look at the issue section to find open issues. We'll add a contribution guideline to this repository soon.</p>
<h2><a class="anchor" id="autotoc_md18"></a>
Unit Tests</h2>
<p>VCTR's unit tests, located in the <code>test</code> subfolder, are dependent on <a href="https://github.com/catchorg/Catch2">Catch2</a> and <a href="https://github.com/kthohr/gcem">gcem</a>. To create the unit test target, run cmake with the -DVCTR_BUILD_TEST=1``<code>. In case you want to integrate the VCTR unit test cases into your own catch2 based unit tests, you can define</code>VCTR_EXPOSE_UNIT_TEST_CASES_TARGET<code>to 1 and link against the</code>sonible::vctr_test_targets` target which contains all test cases.</p>
<h3><a class="anchor" id="autotoc_md19"></a>
Installation via conan</h3>
<p>The preferred method of installing the dependencies is using the C++ package manager <a href="https://github.com/conan-io/conan">conan</a>. If <code>conan</code> is available on your system, export the project using the <code>VCTR_USE_CONAN=1</code> and <code>VCTR_BUILD_TEST=1</code> options:</p>
<div class="fragment"><div class="line"># conan is available via chocolatey, homebrew or pip3</div>
<div class="line"> </div>
<div class="line"># windows</div>
<div class="line">choco install conan</div>
<div class="line"> </div>
<div class="line"># macOS</div>
<div class="line">brew install conan</div>
<div class="line"> </div>
<div class="line"># linux</div>
<div class="line">pip3 install conan</div>
<div class="line"> </div>
<div class="line"># in VCTR project root</div>
<div class="line"> </div>
<div class="line"># export project and tests</div>
<div class="line">cmake . -B build -D VCTR_USE_CONAN=1 -D VCTR_BUILD_TEST=1</div>
<div class="line"> </div>
<div class="line"># build tests</div>
<div class="line">cmake --build build/ --target vctr_test</div>
<div class="line"> </div>
<div class="line"># run tests</div>
<div class="line">./build/test/vctr_test</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md20"></a>
Manual installation</h3>
<p>In case conan is not used, the dependencies need to be installed manually on the system. Please consult the project's documentation for details.</p>
<p>The minimal steps include the following:</p>
<div class="fragment"><div class="line"># clone gcem from GitHub</div>
<div class="line">git clone https://github.com/kthohr/gcem</div>
<div class="line"> </div>
<div class="line"># enter cloned folder</div>
<div class="line">cd gcem</div>
<div class="line"> </div>
<div class="line"># generate Makefiles</div>
<div class="line">cmake . -B build</div>
<div class="line"> </div>
<div class="line"># switch to build folder</div>
<div class="line">cd build</div>
<div class="line"> </div>
<div class="line"># install headers on system</div>
<div class="line">sudo make install</div>
<div class="line"> </div>
<div class="line"># move out of gcem folder</div>
<div class="line">cd ../..</div>
<div class="line"> </div>
<div class="line"># clone Catch2 from GitHub</div>
<div class="line">git clone https://github.com/catchorg/Catch2.git</div>
<div class="line"> </div>
<div class="line"># enter cloned folder</div>
<div class="line">cd Catch2</div>
<div class="line"> </div>
<div class="line"># generate makefiles</div>
<div class="line">cmake -B build -D BUILD_TESTING=OFF</div>
<div class="line"> </div>
<div class="line"># build library and install catch2 on system</div>
<div class="line">sudo cmake --build build/ --target install</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md21"></a>
Project structure</h2>
<p>(This section is still under development, more infos will follow)</p>
<ul>
<li>By convention, all <code>snake_case</code> headers are intended to be included by the user, <code>CamelCase</code> headers are implementation details and cannot be included on their own.</li>
<li>Headers included via <code>#include &lt;vctr_utils/...&gt;</code> supply additional utility functions that are not strictly relevant to the core functionality of the VCTR project. They are used in the test, benchmark, and demo projects and might have additional third party dependencies.</li>
<li>Headers included via <code>#include &lt;vctr_test_utils/...&gt;</code> supply additional utility functions that are useful especially for Catch2-based tests. They depend on having Catch2 greater version 3.0.0 available. If you are writing Catch2 based unit tests, you might be especially interested in the matchers that can be accessed via <code>#include &lt;vctr_test_utils/vctr_catch_matchers.h&gt;</code>.</li>
</ul>
<h2><a class="anchor" id="autotoc_md22"></a>
Naming conventions</h2>
<p>(This section is still under development, more infos will follow)</p>
<p>This section explains some commonly used names and concepts that are used throughout the project.</p>
<h2><a class="anchor" id="autotoc_md23"></a>
extent</h2>
<p>The extent definition is basically taken from <code>std::span</code>. In all situations where the size of a container, a view, or an expression is known at compile time, the extent will equal the size. In cases where the size is only known at runtime, the extent will equal <code>std::dynamic_extent</code> which in turn is defined to <code>std::numeric_limits&lt;size_t&gt;::max()</code> on all platforms we know. A <code>Span</code> might have both, a dynamic and a non-dynamic extent. A <code>Vector</code> will always have a dynamic extent. An <code>Array</code> will always have a non-dynamic extent. Expressions will inherit the extent of their source(s).</p>
<h1><a class="anchor" id="autotoc_md24"></a>
License information</h1>
<p>VCTR is free software: you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License version 3 (LGPLv3) only, as published by the Free Software Foundation.</p>
<p>This basically implies, in legally non-binding terms:</p>
<ul>
<li>You may <em>use</em> VCTR in projects of any kind, regardless of their purpose, context or commercial status, as long as the use of VCTR and its copyright is documented in the project's disclaimer.</li>
<li>You may <em>use</em> VCTR also with code whose licensing terms are incompatible with that of the GNU General Public License (GPL), including non-free, proprietary or so-called <em>closed source</em> code. VCTR is a header-only library, so all regulations of the LGPLv3 license regarding static or dynamic library linkage do not apply here.</li>
<li>Following from the previous, merely <em>using</em> VCTR as is does not require any changes to the licensing terms of your code. In particular, proprietary code using VCTR may remain proprietary and so-called <em>closed source</em> even if your code incorporates VCTR at compile-time due to its nature of a header-only library.</li>
<li>You may <em>modify, adapt</em> or <em>extend</em> VCTR according to your requirements, but if you do so, you must make the source code of your modifications available as soon as you distribute your modifications in binary form, for instance, in a project release that involves your modified version of VCTR.</li>
<li>Your modifications will underlie the same licensing terms of the LGPLv3 as VCTR. You must not remove any license information from the file headers or from other project files such as LICENSE.</li>
<li>You are not obliged to contribute your extensions directly to sonible, for instance, through patches or pull requests, but you are cordially invited to do so.</li>
</ul>
<p>Please find the full licensing terms and conditions in the LICENSE file. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
